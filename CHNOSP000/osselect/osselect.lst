     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_vsprintf
     7 00000000                                 	EXTERN	_api_putstr0
     8 00000000                                 	EXTERN	_api_cmdline
     9 00000000                                 	EXTERN	_api_fopen
    10 00000000                                 	EXTERN	_api_osselect
    11 00000000                                 	EXTERN	_api_end
    12 00000000                                 [FILE "osselect.ca"]
    13                                          [SECTION .text]
    14 00000000                                 	GLOBAL	_printf
    15 00000000                                 _printf:
    16 00000000 55                              	PUSH	EBP
    17 00000001 89 E5                           	MOV	EBP,ESP
    18 00000003 56                              	PUSH	ESI
    19 00000004 53                              	PUSH	EBX
    20 00000005 81 EC 000003F0                  	SUB	ESP,1008
    21 0000000B 8D 45 0C                        	LEA	EAX,DWORD [12+EBP]
    22 0000000E 8D 9D FFFFFC08                  	LEA	EBX,DWORD [-1016+EBP]
    23 00000014 50                              	PUSH	EAX
    24 00000015 FF 75 08                        	PUSH	DWORD [8+EBP]
    25 00000018 53                              	PUSH	EBX
    26 00000019 E8 [00000000]                   	CALL	_vsprintf
    27 0000001E 53                              	PUSH	EBX
    28 0000001F 89 C6                           	MOV	ESI,EAX
    29 00000021 E8 [00000000]                   	CALL	_api_putstr0
    30 00000026 8D 65 F8                        	LEA	ESP,DWORD [-8+EBP]
    31 00000029 89 F0                           	MOV	EAX,ESI
    32 0000002B 5B                              	POP	EBX
    33 0000002C 5E                              	POP	ESI
    34 0000002D 5D                              	POP	EBP
    35 0000002E C3                              	RET
    36                                          [SECTION .data]
    37 00000000                                 LC0:
    38 00000000 66 69 6C 65 20 6F 70 65 6E 20   	DB	"file open error!",0x0A,0x00
       0000000A 65 72 72 6F 72 21 0A 00 
    39                                          [SECTION .text]
    40 0000002F                                 	GLOBAL	_NhMain
    41 0000002F                                 _NhMain:
    42 0000002F 55                              	PUSH	EBP
    43 00000030 89 E5                           	MOV	EBP,ESP
    44 00000032 53                              	PUSH	EBX
    45 00000033 83 EC 20                        	SUB	ESP,32
    46 00000036 8D 5D DC                        	LEA	EBX,DWORD [-36+EBP]
    47 00000039 6A 1E                           	PUSH	30
    48 0000003B 53                              	PUSH	EBX
    49 0000003C E8 [00000000]                   	CALL	_api_cmdline
    50 00000041 59                              	POP	ECX
    51 00000042 89 D8                           	MOV	EAX,EBX
    52 00000044 5B                              	POP	EBX
    53 00000045 80 7D DC 20                     	CMP	BYTE [-36+EBP],32
    54 00000049 7E 06                           	JLE	L15
    55 0000004B                                 L7:
    56 0000004B 40                              	INC	EAX
    57 0000004C 80 38 20                        	CMP	BYTE [EAX],32
    58 0000004F 7F FA                           	JG	L7
    59 00000051                                 L15:
    60 00000051 80 38 20                        	CMP	BYTE [EAX],32
    61 00000054 74 2A                           	JE	L12
    62 00000056                                 L17:
    63 00000056 50                              	PUSH	EAX
    64 00000057 E8 [00000000]                   	CALL	_api_fopen
    65 0000005C 5A                              	POP	EDX
    66 0000005D 89 C3                           	MOV	EBX,EAX
    67 0000005F 85 C0                           	TEST	EAX,EAX
    68 00000061 74 0B                           	JE	L18
    69 00000063                                 L13:
    70 00000063 53                              	PUSH	EBX
    71 00000064 E8 [00000000]                   	CALL	_api_osselect
    72 00000069 8B 5D FC                        	MOV	EBX,DWORD [-4+EBP]
    73 0000006C C9                              	LEAVE
    74 0000006D C3                              	RET
    75 0000006E                                 L18:
    76 0000006E 68 [00000000]                   	PUSH	LC0
    77 00000073 E8 [00000000]                   	CALL	_api_putstr0
    78 00000078 E8 [00000000]                   	CALL	_api_end
    79 0000007D 58                              	POP	EAX
    80 0000007E EB E3                           	JMP	L13
    81 00000080                                 L12:
    82 00000080 40                              	INC	EAX
    83 00000081 80 38 20                        	CMP	BYTE [EAX],32
    84 00000084 74 FA                           	JE	L12
    85 00000086 EB CE                           	JMP	L17
