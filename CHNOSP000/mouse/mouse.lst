     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_vsprintf
     7 00000000                                 	EXTERN	_api_putstr0
     8 00000000                                 	EXTERN	__alloca
     9 00000000                                 	EXTERN	_api_openwin
    10 00000000                                 	EXTERN	_tomo_getmouse
    11 00000000                                 	EXTERN	_sprintf
    12 00000000                                 [FILE "mouse.ca"]
    13                                          [SECTION .text]
    14 00000000                                 	GLOBAL	_printf
    15 00000000                                 _printf:
    16 00000000 55                              	PUSH	EBP
    17 00000001 89 E5                           	MOV	EBP,ESP
    18 00000003 56                              	PUSH	ESI
    19 00000004 53                              	PUSH	EBX
    20 00000005 81 EC 000003F0                  	SUB	ESP,1008
    21 0000000B 8D 45 0C                        	LEA	EAX,DWORD [12+EBP]
    22 0000000E 8D 9D FFFFFC08                  	LEA	EBX,DWORD [-1016+EBP]
    23 00000014 50                              	PUSH	EAX
    24 00000015 FF 75 08                        	PUSH	DWORD [8+EBP]
    25 00000018 53                              	PUSH	EBX
    26 00000019 E8 [00000000]                   	CALL	_vsprintf
    27 0000001E 53                              	PUSH	EBX
    28 0000001F 89 C6                           	MOV	ESI,EAX
    29 00000021 E8 [00000000]                   	CALL	_api_putstr0
    30 00000026 8D 65 F8                        	LEA	ESP,DWORD [-8+EBP]
    31 00000029 89 F0                           	MOV	EAX,ESI
    32 0000002B 5B                              	POP	EBX
    33 0000002C 5E                              	POP	ESI
    34 0000002D 5D                              	POP	EBP
    35 0000002E C3                              	RET
    36                                          [SECTION .data]
    37 00000000                                 LC0:
    38 00000000 6D 6F 75 73 65 00               	DB	"mouse",0x00
    39 00000006                                 LC1:
    40 00000006 58 3D 25 64 2C 59 3D 25 64 0A   	DB	"X=%d,Y=%d",0x0A,0x00
       00000010 00 
    41                                          [SECTION .text]
    42 0000002F                                 	GLOBAL	_NhMain
    43 0000002F                                 _NhMain:
    44 0000002F 55                              	PUSH	EBP
    45 00000030 B8 00003AE0                     	MOV	EAX,15072
    46 00000035 89 E5                           	MOV	EBP,ESP
    47 00000037 53                              	PUSH	EBX
    48 00000038 E8 [00000000]                   	CALL	__alloca
    49 0000003D 68 [00000000]                   	PUSH	LC0
    50 00000042 6A FF                           	PUSH	-1
    51 00000044 8D 85 FFFFC51C                  	LEA	EAX,DWORD [-15076+EBP]
    52 0000004A 6A 32                           	PUSH	50
    53 0000004C 68 0000012C                     	PUSH	300
    54 00000051 50                              	PUSH	EAX
    55 00000052 C7 45 BC 00000000               	MOV	DWORD [-68+EBP],0
    56 00000059 C7 45 C0 00000000               	MOV	DWORD [-64+EBP],0
    57 00000060 C7 45 C4 00000000               	MOV	DWORD [-60+EBP],0
    58 00000067 C7 45 C8 00000000               	MOV	DWORD [-56+EBP],0
    59 0000006E E8 [00000000]                   	CALL	_api_openwin
    60 00000073 83 C4 14                        	ADD	ESP,20
    61 00000076                                 L3:
    62 00000076 8D 45 BC                        	LEA	EAX,DWORD [-68+EBP]
    63 00000079 8D 5D CC                        	LEA	EBX,DWORD [-52+EBP]
    64 0000007C 50                              	PUSH	EAX
    65 0000007D 6A 00                           	PUSH	0
    66 0000007F E8 [00000000]                   	CALL	_tomo_getmouse
    67 00000084 FF 75 C0                        	PUSH	DWORD [-64+EBP]
    68 00000087 FF 75 BC                        	PUSH	DWORD [-68+EBP]
    69 0000008A 68 [00000006]                   	PUSH	LC1
    70 0000008F 53                              	PUSH	EBX
    71 00000090 E8 [00000000]                   	CALL	_sprintf
    72 00000095 53                              	PUSH	EBX
    73 00000096 E8 FFFFFF65                     	CALL	_printf
    74 0000009B 83 C4 1C                        	ADD	ESP,28
    75 0000009E EB D6                           	JMP	L3
