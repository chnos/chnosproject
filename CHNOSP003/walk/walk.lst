     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_vsprintf
     7 00000000                                 	EXTERN	_api_putstr0
     8 00000000                                 	EXTERN	_api_initmalloc
     9 00000000                                 	EXTERN	_api_malloc
    10 00000000                                 	EXTERN	_api_openwin
    11 00000000                                 	EXTERN	_api_boxfilwin
    12 00000000                                 	EXTERN	_api_putstrwin
    13 00000000                                 	EXTERN	_api_getkey
    14 00000000                                 	EXTERN	_api_closewin
    15 00000000                                 	EXTERN	_api_end
    16 00000000                                 [FILE "walk.ca"]
    17                                          [SECTION .text]
    18 00000000                                 	GLOBAL	_printf
    19 00000000                                 _printf:
    20 00000000 55                              	PUSH	EBP
    21 00000001 89 E5                           	MOV	EBP,ESP
    22 00000003 56                              	PUSH	ESI
    23 00000004 53                              	PUSH	EBX
    24 00000005 81 EC 000003F0                  	SUB	ESP,1008
    25 0000000B 8D 45 0C                        	LEA	EAX,DWORD [12+EBP]
    26 0000000E 8D 9D FFFFFC08                  	LEA	EBX,DWORD [-1016+EBP]
    27 00000014 50                              	PUSH	EAX
    28 00000015 FF 75 08                        	PUSH	DWORD [8+EBP]
    29 00000018 53                              	PUSH	EBX
    30 00000019 E8 [00000000]                   	CALL	_vsprintf
    31 0000001E 53                              	PUSH	EBX
    32 0000001F 89 C6                           	MOV	ESI,EAX
    33 00000021 E8 [00000000]                   	CALL	_api_putstr0
    34 00000026 8D 65 F8                        	LEA	ESP,DWORD [-8+EBP]
    35 00000029 89 F0                           	MOV	EAX,ESI
    36 0000002B 5B                              	POP	EBX
    37 0000002C 5E                              	POP	ESI
    38 0000002D 5D                              	POP	EBP
    39 0000002E C3                              	RET
    40                                          [SECTION .data]
    41 00000000                                 LC0:
    42 00000000 77 61 6C 6B 00                  	DB	"walk",0x00
    43 00000005                                 LC1:
    44 00000005 2A 00                           	DB	"*",0x00
    45                                          [SECTION .text]
    46 0000002F                                 	GLOBAL	_CHNMain
    47 0000002F                                 _CHNMain:
    48 0000002F 55                              	PUSH	EBP
    49 00000030 89 E5                           	MOV	EBP,ESP
    50 00000032 57                              	PUSH	EDI
    51 00000033 56                              	PUSH	ESI
    52 00000034 BF 0000004C                     	MOV	EDI,76
    53 00000039 53                              	PUSH	EBX
    54 0000003A BE 00000038                     	MOV	ESI,56
    55 0000003F 52                              	PUSH	EDX
    56 00000040 E8 [00000000]                   	CALL	_api_initmalloc
    57 00000045 68 00003E80                     	PUSH	16000
    58 0000004A E8 [00000000]                   	CALL	_api_malloc
    59 0000004F 68 [00000000]                   	PUSH	LC0
    60 00000054 6A FF                           	PUSH	-1
    61 00000056 6A 64                           	PUSH	100
    62 00000058 68 000000A0                     	PUSH	160
    63 0000005D 50                              	PUSH	EAX
    64 0000005E E8 [00000000]                   	CALL	_api_openwin
    65 00000063 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
    66 00000066 6A 00                           	PUSH	0
    67 00000068 6A 5F                           	PUSH	95
    68 0000006A 68 0000009B                     	PUSH	155
    69 0000006F 6A 18                           	PUSH	24
    70 00000071 6A 04                           	PUSH	4
    71 00000073 50                              	PUSH	EAX
    72 00000074 E8 [00000000]                   	CALL	_api_boxfilwin
    73 00000079 83 C4 30                        	ADD	ESP,48
    74 0000007C 68 [00000005]                   	PUSH	LC1
    75 00000081 6A 01                           	PUSH	1
    76 00000083 6A 03                           	PUSH	3
    77 00000085 6A 38                           	PUSH	56
    78 00000087 6A 4C                           	PUSH	76
    79 00000089                                 L11:
    80 00000089 FF 75 F0                        	PUSH	DWORD [-16+EBP]
    81 0000008C E8 [00000000]                   	CALL	_api_putstrwin
    82 00000091 83 C4 18                        	ADD	ESP,24
    83 00000094 6A 01                           	PUSH	1
    84 00000096 E8 [00000000]                   	CALL	_api_getkey
    85 0000009B 68 [00000005]                   	PUSH	LC1
    86 000000A0 6A 01                           	PUSH	1
    87 000000A2 89 C3                           	MOV	EBX,EAX
    88 000000A4 6A 00                           	PUSH	0
    89 000000A6 56                              	PUSH	ESI
    90 000000A7 57                              	PUSH	EDI
    91 000000A8 FF 75 F0                        	PUSH	DWORD [-16+EBP]
    92 000000AB E8 [00000000]                   	CALL	_api_putstrwin
    93 000000B0 83 C4 1C                        	ADD	ESP,28
    94 000000B3 83 FB 34                        	CMP	EBX,52
    95 000000B6 74 57                           	JE	L12
    96 000000B8                                 L6:
    97 000000B8 83 FB 36                        	CMP	EBX,54
    98 000000BB 74 45                           	JE	L13
    99 000000BD                                 L7:
   100 000000BD 83 FB 38                        	CMP	EBX,56
   101 000000C0 74 36                           	JE	L14
   102 000000C2                                 L8:
   103 000000C2 83 FB 32                        	CMP	EBX,50
   104 000000C5 74 27                           	JE	L15
   105 000000C7                                 L9:
   106 000000C7 83 FB 0A                        	CMP	EBX,10
   107 000000CA 74 0D                           	JE	L4
   108 000000CC 68 [00000005]                   	PUSH	LC1
   109 000000D1 6A 01                           	PUSH	1
   110 000000D3 6A 03                           	PUSH	3
   111 000000D5 56                              	PUSH	ESI
   112 000000D6 57                              	PUSH	EDI
   113 000000D7 EB B0                           	JMP	L11
   114 000000D9                                 L4:
   115 000000D9 FF 75 F0                        	PUSH	DWORD [-16+EBP]
   116 000000DC E8 [00000000]                   	CALL	_api_closewin
   117 000000E1 58                              	POP	EAX
   118 000000E2 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   119 000000E5 5B                              	POP	EBX
   120 000000E6 5E                              	POP	ESI
   121 000000E7 5F                              	POP	EDI
   122 000000E8 5D                              	POP	EBP
   123 000000E9 E9 [00000000]                   	JMP	_api_end
   124 000000EE                                 L15:
   125 000000EE 83 FE 4F                        	CMP	ESI,79
   126 000000F1 7F D4                           	JG	L9
   127 000000F3 83 C6 08                        	ADD	ESI,8
   128 000000F6 EB CF                           	JMP	L9
   129 000000F8                                 L14:
   130 000000F8 83 FE 18                        	CMP	ESI,24
   131 000000FB 7E C5                           	JLE	L8
   132 000000FD 83 EE 08                        	SUB	ESI,8
   133 00000100 EB C0                           	JMP	L8
   134 00000102                                 L13:
   135 00000102 81 FF 00000093                  	CMP	EDI,147
   136 00000108 7F B3                           	JG	L7
   137 0000010A 83 C7 08                        	ADD	EDI,8
   138 0000010D EB AE                           	JMP	L7
   139 0000010F                                 L12:
   140 0000010F 83 FF 04                        	CMP	EDI,4
   141 00000112 7E A4                           	JLE	L6
   142 00000114 83 EF 08                        	SUB	EDI,8
   143 00000117 EB 9F                           	JMP	L6
