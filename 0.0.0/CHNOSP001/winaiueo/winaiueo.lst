     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_vsprintf
     7 00000000                                 	EXTERN	_api_putstr0
     8 00000000                                 	EXTERN	__alloca
     9 00000000                                 	EXTERN	_api_openwin
    10 00000000                                 	EXTERN	_api_boxfilwin
    11 00000000                                 	EXTERN	_api_putstrwin
    12 00000000                                 	EXTERN	_api_getkey
    13 00000000                                 	EXTERN	_api_end
    14 00000000                                 [FILE "winaiueo.ca"]
    15                                          [SECTION .text]
    16 00000000                                 	GLOBAL	_printf
    17 00000000                                 _printf:
    18 00000000 55                              	PUSH	EBP
    19 00000001 89 E5                           	MOV	EBP,ESP
    20 00000003 56                              	PUSH	ESI
    21 00000004 53                              	PUSH	EBX
    22 00000005 81 EC 000003F0                  	SUB	ESP,1008
    23 0000000B 8D 45 0C                        	LEA	EAX,DWORD [12+EBP]
    24 0000000E 8D 9D FFFFFC08                  	LEA	EBX,DWORD [-1016+EBP]
    25 00000014 50                              	PUSH	EAX
    26 00000015 FF 75 08                        	PUSH	DWORD [8+EBP]
    27 00000018 53                              	PUSH	EBX
    28 00000019 E8 [00000000]                   	CALL	_vsprintf
    29 0000001E 53                              	PUSH	EBX
    30 0000001F 89 C6                           	MOV	ESI,EAX
    31 00000021 E8 [00000000]                   	CALL	_api_putstr0
    32 00000026 8D 65 F8                        	LEA	ESP,DWORD [-8+EBP]
    33 00000029 89 F0                           	MOV	EAX,ESI
    34 0000002B 5B                              	POP	EBX
    35 0000002C 5E                              	POP	ESI
    36 0000002D 5D                              	POP	EBP
    37 0000002E C3                              	RET
    38                                          [SECTION .data]
    39 00000000                                 LC0:
    40 00000000 68 65 6C 6C 6F 00               	DB	"hello",0x00
    41 00000006                                 LC1:
    42 00000006 82 A0 82 A2 82 A4 82 A6 82 A8   	DB	0x82,0xA0,0x82,0xA2,0x82,0xA4,0x82,0xA6,0x82,0xA8,0x81,"B",0x00
       00000010 81 42 00 
    43                                          [SECTION .text]
    44 0000002F                                 	GLOBAL	_CHNMain
    45 0000002F                                 _CHNMain:
    46 0000002F 55                              	PUSH	EBP
    47 00000030 B8 00001D50                     	MOV	EAX,7504
    48 00000035 89 E5                           	MOV	EBP,ESP
    49 00000037 53                              	PUSH	EBX
    50 00000038 E8 [00000000]                   	CALL	__alloca
    51 0000003D 68 [00000000]                   	PUSH	LC0
    52 00000042 6A FF                           	PUSH	-1
    53 00000044 8D 85 FFFFE2AC                  	LEA	EAX,DWORD [-7508+EBP]
    54 0000004A 6A 32                           	PUSH	50
    55 0000004C 68 00000096                     	PUSH	150
    56 00000051 50                              	PUSH	EAX
    57 00000052 E8 [00000000]                   	CALL	_api_openwin
    58 00000057 6A 03                           	PUSH	3
    59 00000059 6A 2B                           	PUSH	43
    60 0000005B 89 C3                           	MOV	EBX,EAX
    61 0000005D 68 0000008D                     	PUSH	141
    62 00000062 6A 24                           	PUSH	36
    63 00000064 6A 08                           	PUSH	8
    64 00000066 50                              	PUSH	EAX
    65 00000067 E8 [00000000]                   	CALL	_api_boxfilwin
    66 0000006C 83 C4 2C                        	ADD	ESP,44
    67 0000006F 68 [00000006]                   	PUSH	LC1
    68 00000074 6A 0C                           	PUSH	12
    69 00000076 6A 00                           	PUSH	0
    70 00000078 6A 1C                           	PUSH	28
    71 0000007A 6A 1C                           	PUSH	28
    72 0000007C 53                              	PUSH	EBX
    73 0000007D E8 [00000000]                   	CALL	_api_putstrwin
    74 00000082 83 C4 18                        	ADD	ESP,24
    75 00000085                                 L3:
    76 00000085 6A 01                           	PUSH	1
    77 00000087 E8 [00000000]                   	CALL	_api_getkey
    78 0000008C 5A                              	POP	EDX
    79 0000008D 83 F8 0A                        	CMP	EAX,10
    80 00000090 75 F3                           	JNE	L3
    81 00000092 E8 [00000000]                   	CALL	_api_end
    82 00000097 8B 5D FC                        	MOV	EBX,DWORD [-4+EBP]
    83 0000009A C9                              	LEAVE
    84 0000009B C3                              	RET
