     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_vsprintf
     7 00000000                                 	EXTERN	_api_putstr0
     8 00000000                                 	EXTERN	_api_initmalloc
     9 00000000                                 	EXTERN	_api_malloc
    10 00000000                                 	EXTERN	_api_openwin
    11 00000000                                 	EXTERN	_api_boxfilwin
    12 00000000                                 	EXTERN	_rand
    13 00000000                                 	EXTERN	_api_point
    14 00000000                                 	EXTERN	_api_refreshwin
    15 00000000                                 	EXTERN	_api_getkey
    16 00000000                                 	EXTERN	_api_end
    17 00000000                                 [FILE "stars2.ca"]
    18                                          [SECTION .text]
    19 00000000                                 	GLOBAL	_printf
    20 00000000                                 _printf:
    21 00000000 55                              	PUSH	EBP
    22 00000001 89 E5                           	MOV	EBP,ESP
    23 00000003 56                              	PUSH	ESI
    24 00000004 53                              	PUSH	EBX
    25 00000005 81 EC 000003F0                  	SUB	ESP,1008
    26 0000000B 8D 45 0C                        	LEA	EAX,DWORD [12+EBP]
    27 0000000E 8D 9D FFFFFC08                  	LEA	EBX,DWORD [-1016+EBP]
    28 00000014 50                              	PUSH	EAX
    29 00000015 FF 75 08                        	PUSH	DWORD [8+EBP]
    30 00000018 53                              	PUSH	EBX
    31 00000019 E8 [00000000]                   	CALL	_vsprintf
    32 0000001E 53                              	PUSH	EBX
    33 0000001F 89 C6                           	MOV	ESI,EAX
    34 00000021 E8 [00000000]                   	CALL	_api_putstr0
    35 00000026 8D 65 F8                        	LEA	ESP,DWORD [-8+EBP]
    36 00000029 89 F0                           	MOV	EAX,ESI
    37 0000002B 5B                              	POP	EBX
    38 0000002C 5E                              	POP	ESI
    39 0000002D 5D                              	POP	EBP
    40 0000002E C3                              	RET
    41                                          [SECTION .data]
    42 00000000                                 LC0:
    43 00000000 73 74 61 72 73 32 00            	DB	"stars2",0x00
    44                                          [SECTION .text]
    45 0000002F                                 	GLOBAL	_CHNMain
    46 0000002F                                 _CHNMain:
    47 0000002F 55                              	PUSH	EBP
    48 00000030 89 E5                           	MOV	EBP,ESP
    49 00000032 57                              	PUSH	EDI
    50 00000033 56                              	PUSH	ESI
    51 00000034 BF 00000031                     	MOV	EDI,49
    52 00000039 53                              	PUSH	EBX
    53 0000003A E8 [00000000]                   	CALL	_api_initmalloc
    54 0000003F 68 00003A98                     	PUSH	15000
    55 00000044 E8 [00000000]                   	CALL	_api_malloc
    56 00000049 68 [00000000]                   	PUSH	LC0
    57 0000004E 6A FF                           	PUSH	-1
    58 00000050 6A 64                           	PUSH	100
    59 00000052 68 00000096                     	PUSH	150
    60 00000057 50                              	PUSH	EAX
    61 00000058 E8 [00000000]                   	CALL	_api_openwin
    62 0000005D 6A 00                           	PUSH	0
    63 0000005F 6A 5D                           	PUSH	93
    64 00000061 89 C3                           	MOV	EBX,EAX
    65 00000063 68 0000008F                     	PUSH	143
    66 00000068 8D 40 01                        	LEA	EAX,DWORD [1+EAX]
    67 0000006B 6A 1A                           	PUSH	26
    68 0000006D 6A 06                           	PUSH	6
    69 0000006F 50                              	PUSH	EAX
    70 00000070 E8 [00000000]                   	CALL	_api_boxfilwin
    71 00000075 83 C4 30                        	ADD	ESP,48
    72 00000078                                 L7:
    73 00000078 E8 [00000000]                   	CALL	_rand
    74 0000007D BA 00000089                     	MOV	EDX,137
    75 00000082 89 D1                           	MOV	ECX,EDX
    76 00000084 99                              	CDQ
    77 00000085 F7 F9                           	IDIV	ECX
    78 00000087 8D 72 06                        	LEA	ESI,DWORD [6+EDX]
    79 0000008A E8 [00000000]                   	CALL	_rand
    80 0000008F BA 00000043                     	MOV	EDX,67
    81 00000094 6A 03                           	PUSH	3
    82 00000096 89 D1                           	MOV	ECX,EDX
    83 00000098 99                              	CDQ
    84 00000099 F7 F9                           	IDIV	ECX
    85 0000009B 83 C2 1A                        	ADD	EDX,26
    86 0000009E 8D 43 01                        	LEA	EAX,DWORD [1+EBX]
    87 000000A1 52                              	PUSH	EDX
    88 000000A2 56                              	PUSH	ESI
    89 000000A3 50                              	PUSH	EAX
    90 000000A4 E8 [00000000]                   	CALL	_api_point
    91 000000A9 83 C4 10                        	ADD	ESP,16
    92 000000AC 4F                              	DEC	EDI
    93 000000AD 79 C9                           	JNS	L7
    94 000000AF 6A 5E                           	PUSH	94
    95 000000B1 68 00000090                     	PUSH	144
    96 000000B6 6A 1A                           	PUSH	26
    97 000000B8 6A 06                           	PUSH	6
    98 000000BA 53                              	PUSH	EBX
    99 000000BB E8 [00000000]                   	CALL	_api_refreshwin
   100 000000C0 83 C4 14                        	ADD	ESP,20
   101 000000C3                                 L8:
   102 000000C3 6A 01                           	PUSH	1
   103 000000C5 E8 [00000000]                   	CALL	_api_getkey
   104 000000CA 5A                              	POP	EDX
   105 000000CB 83 F8 0A                        	CMP	EAX,10
   106 000000CE 75 F3                           	JNE	L8
   107 000000D0 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   108 000000D3 5B                              	POP	EBX
   109 000000D4 5E                              	POP	ESI
   110 000000D5 5F                              	POP	EDI
   111 000000D6 5D                              	POP	EBP
   112 000000D7 E9 [00000000]                   	JMP	_api_end
