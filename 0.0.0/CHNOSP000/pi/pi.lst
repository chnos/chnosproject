     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_vsprintf
     7 00000000                                 	EXTERN	_api_putstr0
     8 00000000                                 	EXTERN	_api_putchar
     9 00000000                                 	EXTERN	_api_end
    10 00000000                                 [FILE "pi.ca"]
    11                                          [SECTION .text]
    12 00000000                                 	GLOBAL	_printf
    13 00000000                                 _printf:
    14 00000000 55                              	PUSH	EBP
    15 00000001 89 E5                           	MOV	EBP,ESP
    16 00000003 56                              	PUSH	ESI
    17 00000004 53                              	PUSH	EBX
    18 00000005 81 EC 000003F0                  	SUB	ESP,1008
    19 0000000B 8D 45 0C                        	LEA	EAX,DWORD [12+EBP]
    20 0000000E 8D 9D FFFFFC08                  	LEA	EBX,DWORD [-1016+EBP]
    21 00000014 50                              	PUSH	EAX
    22 00000015 FF 75 08                        	PUSH	DWORD [8+EBP]
    23 00000018 53                              	PUSH	EBX
    24 00000019 E8 [00000000]                   	CALL	_vsprintf
    25 0000001E 53                              	PUSH	EBX
    26 0000001F 89 C6                           	MOV	ESI,EAX
    27 00000021 E8 [00000000]                   	CALL	_api_putstr0
    28 00000026 8D 65 F8                        	LEA	ESP,DWORD [-8+EBP]
    29 00000029 89 F0                           	MOV	EAX,ESI
    30 0000002B 5B                              	POP	EBX
    31 0000002C 5E                              	POP	ESI
    32 0000002D 5D                              	POP	EBP
    33 0000002E C3                              	RET
    34                                          [SECTION .data]
    35 00000000                                 	ALIGNB	8
    36 00000000                                 LC2:
    37 00000000 00000000                        	DD	0
    38 00000004 40100000                        	DD	1074790400
    39 00000008                                 	ALIGNB	8
    40 00000008                                 LC3:
    41 00000008 00000000                        	DD	0
    42 0000000C 40240000                        	DD	1076101120
    43                                          [SECTION .text]
    44 0000002F                                 	GLOBAL	_NhMain
    45 0000002F                                 _NhMain:
    46 0000002F 55                              	PUSH	EBP
    47 00000030 89 E5                           	MOV	EBP,ESP
    48 00000032 56                              	PUSH	ESI
    49 00000033 53                              	PUSH	EBX
    50 00000034 BE 00000001                     	MOV	ESI,1
    51 00000039 D9 EE                           	FLDZ
    52 0000003B D9 E8                           	FLD1
    53 0000003D 83 EC 18                        	SUB	ESP,24
    54 00000040                                 L7:
    55 00000040 56                              	PUSH	ESI
    56 00000041 8D 46 02                        	LEA	EAX,DWORD [2+ESI]
    57 00000044 DB 04 24                        	FILD	DWORD [ESP]
    58 00000047 89 04 24                        	MOV	DWORD [ESP],EAX
    59 0000004A 83 C6 04                        	ADD	ESI,4
    60 0000004D DB 04 24                        	FILD	DWORD [ESP]
    61 00000050 D9 C9                           	FXCH	ST1
    62 00000052 D8 FA                           	FDIVR	ST0,ST2
    63 00000054 D9 C9                           	FXCH	ST1
    64 00000056 83 C4 04                        	ADD	ESP,4
    65 00000059 81 FE 1DCD64FF                  	CMP	ESI,499999999
    66 0000005F D8 FA                           	FDIVR	ST0,ST2
    67 00000061 DE E9                           	FSUBP	ST1,ST0
    68 00000063 DE C2                           	FADDP	ST2,ST0
    69 00000065 7E D9                           	JLE	L7
    70 00000067 DD D8                           	FSTP	ST0
    71 00000069 DC 0D [00000000]                	FMUL	QWORD [LC2]
    72 0000006F 31 F6                           	XOR	ESI,ESI
    73 00000071                                 L13:
    74 00000071 D9 7D F6                        	FNSTCW	WORD [-10+EBP]
    75 00000074 66 8B 45 F6                     	MOV	AX,WORD [-10+EBP]
    76 00000078 66 0D 0C00                      	OR	AX,3072
    77 0000007C 66 89 45 F4                     	MOV	WORD [-12+EBP],AX
    78 00000080 D9 6D F4                        	FLDCW	WORD [-12+EBP]
    79 00000083 DB 55 F0                        	FIST	DWORD [-16+EBP]
    80 00000086 D9 6D F6                        	FLDCW	WORD [-10+EBP]
    81 00000089 8B 5D F0                        	MOV	EBX,DWORD [-16+EBP]
    82 0000008C 8D 43 30                        	LEA	EAX,DWORD [48+EBX]
    83 0000008F 50                              	PUSH	EAX
    84 00000090 DD 5D E0                        	FSTP	QWORD [-32+EBP]
    85 00000093 E8 [00000000]                   	CALL	_api_putchar
    86 00000098 85 F6                           	TEST	ESI,ESI
    87 0000009A 53                              	PUSH	EBX
    88 0000009B DB 04 24                        	FILD	DWORD [ESP]
    89 0000009E DD 45 E0                        	FLD	QWORD [-32+EBP]
    90 000000A1 59                              	POP	ECX
    91 000000A2 DE E1                           	FSUBRP	ST1,ST0
    92 000000A4 5B                              	POP	EBX
    93 000000A5 DC 0D [00000008]                	FMUL	QWORD [LC3]
    94 000000AB 74 1B                           	JE	L18
    95 000000AD                                 L10:
    96 000000AD 46                              	INC	ESI
    97 000000AE 83 FE 0E                        	CMP	ESI,14
    98 000000B1 7E BE                           	JLE	L13
    99 000000B3 DD D8                           	FSTP	ST0
   100 000000B5 6A 0A                           	PUSH	10
   101 000000B7 E8 [00000000]                   	CALL	_api_putchar
   102 000000BC 58                              	POP	EAX
   103 000000BD 8D 65 F8                        	LEA	ESP,DWORD [-8+EBP]
   104 000000C0 5B                              	POP	EBX
   105 000000C1 5E                              	POP	ESI
   106 000000C2 5D                              	POP	EBP
   107 000000C3 E9 [00000000]                   	JMP	_api_end
   108 000000C8                                 L18:
   109 000000C8 6A 2E                           	PUSH	46
   110 000000CA DD 5D E0                        	FSTP	QWORD [-32+EBP]
   111 000000CD E8 [00000000]                   	CALL	_api_putchar
   112 000000D2 5A                              	POP	EDX
   113 000000D3 DD 45 E0                        	FLD	QWORD [-32+EBP]
   114 000000D6 EB D5                           	JMP	L10
